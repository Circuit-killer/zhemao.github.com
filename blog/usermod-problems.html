<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Be Careful With usermod</title>

<link href="../css/blog.css" rel="stylesheet" type="text/css"/>
<link href="../css/codehilite.css" rel="stylesheet" type="text/css"/>

</head>
<body>
<div id="container">
<header>
<h1></h1>
</header>

<div class="main">
  <div class="block">
    <p><span class="blog_title">Be Careful With usermod</span>
    <div class="maintext"><p>For my CS project, I had to add myself and my partner to a group on my Linux
box. So, being the UNIX noob that I am, I added us to the group with</p>
<p><code>usermod -G project1 dan</code></p>
<p><code>usermod -G project1 zhehao</code></p>
<p>I did not realize that doing so would also remove me from all other groups,
including the admin group. This was obviously a problem, because the next time
I logged in, I found that I was no longer able to use sudo. This of course,
freaked me out. The only way I was able to fix the problem was to boot up from
a Knoppix live USB, mount my hard drive, and manually edit the /etc/sudoers
file. I later found from reading the man pages that this could all have been
avoided if I had used the <code>-a</code> flag, which appends groups to the list. If
you are reading this, don't repeat my mistake, always use <code>usermod -aG user</code>
when adding users to groups.</p></div>
  </div>
  <p class="date">Created: 2011-04-24</p>
  <p class="date">Last Modified: 2011-04-24</p>
  <p><a href="/blog/">Back to Blog Home</a></p>
  <p><a href="/">Back to Home</a></p>
</div>

</div>
</body>
</html>